user: root
key_filename: /Users/duanhongyi/.ssh/id_rsa

prepare:
- host: 192.168.1.100
  commands:
  - apt-get update; apt-get install lvm2 bc curl nfs-common open-iscsi -yq
  - pvcreate /dev/nvme0n1 /dev/sda
  - vgcreate lvmvg-hdd /dev/sda
  - vgcreate lvmvg-ssd /dev/nvme0n1
- host: 192.168.1.101
  commands:
  - apt-get update; apt-get install lvm2 bc curl nfs-common open-iscsi -yq
  - pvcreate /dev/nvme0n1 /dev/sda
  - vgcreate lvmvg-hdd /dev/sda
  - vgcreate lvmvg-ssd /dev/nvme0n1
- host: 192.168.1.102
  commands:
  - apt-get update; apt-get install lvm2 bc curl nfs-common open-iscsi -yq
  - pvcreate /dev/nvme0n1 /dev/sda
  - vgcreate lvmvg-hdd /dev/sda
  - vgcreate lvmvg-ssd /dev/nvme0n1

master: 192.168.1.100

slave:
- 192.168.1.101
- 192.168.1.102

agent: []

label: []

environment:
  # drycc
  CHANNEL: testing
  KUBECONFIG: /etc/rancher/k3s/k3s.yaml
  INSTALL_DRYCC_MIRROR: cn
  # jinja2 template env
  PLATFORM_DOMAIN: "192.168.6.230.nip.io"
  MANAGER_PLATFORM_DOMAIN: "manager.192.168.6.230.nip.io"
  HELMBROKER_PLATFORM_DOMAIN: "helmbroker.192.168.6.230.nip.io"
  RABBITMQ_USERNAME: "admin"
  RABBITMQ_PASSWORD: "admin1234567890"
  INFLUXDB_USERNAME: "admin"
  INFLUXDB_PASSWORD: "admin1234567890"
  PASSPORT_USERNAME: "admin"
  PASSPORT_PASSWORD: "admin1234567890"
  HELMBROKER_USERNAME: "admin"
  HELMBROKER_PASSWORD: "admin1234567890"
  CERTMANAGER_ENABLED: false
  GRAFANA_PASSPORT_URL: "http://drycc-passport.192.168.6.230.nip.io"
  GRAFANA_PASSPORT_KEY: "key"
  GRAFANA_PASSPORT_SECRET: "secret"
  CONTROLLER_PASSPORT_URL: "http://drycc-passport.192.168.6.230.nip.io"
  CONTROLLER_PASSPORT_KEY: "key"
  CONTROLLER_PASSPORT_SECRET: "secret" 
