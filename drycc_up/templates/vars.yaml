user: root
key_filename: /Users/duanhongyi/.ssh/id_rsa

prepare:
- host: 192.168.1.100
  commands:
  - apt-get update; apt-get install lvm2 bc curl nfs-common open-iscsi -yq
  - pvcreate /dev/nvme0n1 /dev/sda
  - vgcreate lvmvg-hdd /dev/sda
  - vgcreate lvmvg-ssd /dev/nvme0n1
- host: 192.168.1.101
  commands:
  - apt-get update; apt-get install lvm2 bc curl nfs-common open-iscsi -yq
  - pvcreate /dev/nvme0n1 /dev/sda
  - vgcreate lvmvg-hdd /dev/sda
  - vgcreate lvmvg-ssd /dev/nvme0n1
- host: 192.168.1.102
  commands:
  - apt-get update; apt-get install lvm2 bc curl nfs-common open-iscsi -yq
  - pvcreate /dev/nvme0n1 /dev/sda
  - vgcreate lvmvg-hdd /dev/sda
  - vgcreate lvmvg-ssd /dev/nvme0n1

master: 192.168.1.100

slave:
- 192.168.1.101
- 192.168.1.102

agent: []

label: []

# share vars used by jinja2 template
global:
  ingressClass: traefik
  clusterDomain: cluster.local
  platformDomain: 192.168.6.230.nip.io
  certManagerEnabled: "false"

passport:
  adminUsername: drycc
  adminPassword: {{64|random_ascii}}

controller:
  passportKey: {{40|random_ascii}}
  passportSecret: {{60|random_ascii}}
  workflowManagerAccessKey: {{4|uuid}}
  workflowManagerSecretKey: {{64|random_ascii}}

monitor:
  grafana:
    passportKey: {{40|random_ascii}}
    passportSecret: {{60|random_ascii}}

manager:
  platformDomain: manager.192.168.6.230.nip.io

helmbroker:
  username: drycc
  password: {{32|random_ascii}}
  platformDomain: helmbroker.192.168.6.230.nip.io

environment:
  # drycc
  CHANNEL: testing
  KUBECONFIG: /etc/rancher/k3s/k3s.yaml
  INSTALL_DRYCC_MIRROR: cn
